.\"  Copyright (C) 2005 Red Hat, Inc.  All rights reserved.

.TH gnbd_serv 8

.SH NAME
gnbd_serv - gnbd server daemon

.SH SYNOPSIS
.B gnbd_serv
[\fIOPTION\fR]...

.SH DESCRIPTION
gnbd_serv manages gnbd devices exported by gnbd_export and connections from
gnbd_import. It serves up data from the local disks to the connected gnbd
clients.

.SH OPTIONS
.TP
\fB-h\fP
Help.

Print the usage information.
.TP
\fB-k\fP
Kill.

Kill the gnbd_serv daemon.  This command will not kill the daemon if any
devices are currently being exported.  The exported devices must first be
removed.
.TP
\fB-K\fP
Force Kill.

Kill the gnbd_serv daemon regardless of whether or not there are currently
exported devices.  This command will try to shut down all of the gnbd_serv
processes for the currently active connections before shutting down the
primary gnbd_serv process. However, if these processes are in uninterruptible
sleep, the primary gnbd_serv process may shut down while a there is still an
active gnbd connection.
.TP
\fB-n\fP
No Cluster.

This command keeps gnbd_serv from trying to contact the cluster manager.
\fBNOTE:\fP With this option, it is not possible to export uncached devices.
.TP
\fB-p \fIport\fR
Port.

Specify the port for the gnbd server to listen for external connections on.
By default, the server listens for requests on port 14567. If this port
is changed, gnbd_import must also use the \fB-p\fP option.
.TP
\fB-q\fP
Quiet mode.

Only print out errors or questions.
.TP
\fB-V\fP
Version information.

Print out version information.
.TP
\fB-v\fP
Verbose output.

Print additional messages during the operation of gnbd_serv.

.SH SEE ALSO
gnbd_export(8), gnbd_import(8)

.SH BUGS
Occasionally, gnbd_serv -k will not clean up the gnbd_clusterd processes.
Once gnbd_serv has stopped running, this process can simply be killed.
