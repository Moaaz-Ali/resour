.\"
.\"  Copyright 2001-2003 Sistina Software, Inc.
.\"  Copyright (C) 2004 Red Hat, Inc.  All rights reserved.

.\" groff -t -e -mandoc -Tlatin1 lock_gulmd.5 | less

.tl 'lock_gulmd(5)' 'lock_gulmd(5)'

\fBNAME\fP
.in +7
lock_gulm - configuration section for lock_gulmd
.sp
.in -7


\fBDESCRIPTION\fP
.in +7
This is the subsection to the cluster section in the cluster.conf file for
configuring gulm (Which is both the server, lock_gulmd, and the kernel
module lock_gulm.o).

Most configurations need only the servers key.  All other keys are optional,
as the defaults work for nearly all cases.

All gulm options are withing the <gulm></gulm> section, which should be placed
above the <nodes/> section.

All of the config keys are equal to the long options on the command line.

\fIservers\fR
.in +7
A list of IPs or host names that are allowed to be servers.
This has no default value.  You must supply this value, and the nodes must
be listed in the <nodes/> section.

You can use either IPs or names.  Either IPv4 or IPv6 addresses can be
used.  Node names are looked up via libresolv into IPs.  IPv6 addresses
will be used over IPv4 addresses.

.in -7

\fIheartbeat_rate\fR
.in +7
The rate at which the heartbeats are checked by the server in seconds.
Two-thirds of this time is the rate at which the heartbeats are sent.
Default is 15.
.in -7

\fIallowed_misses\fR
.in +7
How many consecutive heartbeats can be missed before we mark the node
expired.
Default is 2.
.in -7

\fIcoreport\fR
.in +7
The port used by the gulm core.
Default is 40040.
.in -7

\fIltpx_port\fR
.in +7
The port used by the LTPX.
Default is 40042.
.in -7

\fIlt_port\fR
.in +7
What port the first lock table uses.  Each additional lock table will
increment this to get their port. (If you have lt_partitions greater than 1.)
Default is 41040.
.in -7

\fIlt_partitions\fR
.in +7
How many partitions of the lock space should there be.  Typically, one
partition per cpu on the server nodes seems to be the best.
Default is 1.
.in -7



.sp
.in -7

\fBEXAMPLES\fP
.in +7

Simple three node cluster with manual fencing.

  <?xml version="1.0"?>
  <cluster name="example" config_version="1">
  
    <gulm>
      <servers>nd01 nd02 nd05</servers>
    </gulm>
  
    <clusternodes>
      <clusternode name="nd01" votes="1">
        <fence>
          <method name="single">
            <device name="human" ipaddr="nd01"/>
          </method>
        </fence>
      </clusternode>
  
      <clusternode name="nd02" votes="1">
        <fence>
          <method name="single">
            <device name="human" ipaddr="nd02"/>
          </method>
        </fence>
      </clusternode>
  
      <clusternode name="nd03" votes="1">
        <fence>
          <method name="single">
            <device name="human" ipaddr="nd03"/>
          </method>
        </fence>
      </clusternode>
    </clusternodes>
  
    <fencedevices>
      <fencedevice name="human" agent="fence_manual"/>
    </fencedevices>
  
  </cluster>




.sp
.in -7

\fBSEE ALSO\fP
.in +7
lock_gulmd(8), ccs(7)

