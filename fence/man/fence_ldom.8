.TH fence_ldom 8

.SH NAME
fence_ldom - I/O Fencing agent for Logical Domains (LDoms)

.SH SYNOPSIS
.B 
fence_ldom
[\fIOPTION\fR]...

.SH DESCRIPTION
fence_ldom is an I/O Fencing agent which can be used with LDoms virtual
machines. This agent works so, that run ldm command on host machine. So
ldm must be directly runnable. 

Very useful parameter is -c (or cmd_prompt in stdin mode). This must be
set to something, what is displayed after successful login to host machine.
Default string is space on end of string (default for root in bash). But
(for example) csh use ], so in that case you must use parameter -c with
argument ']'. Very similar situation is, if you use bash and login to host
machine with other user than root. Than prompt is $, so again, you must
use parameter -c. 

fence_ldom accepts options on the command line as well as from stdin.  
Fenced sends parameters through stdin when it execs the agent.  fence_ldom
can be run by itself with command line options.  This is useful for testing 
and for turning outlets on or off from scripts.

.SH OPTIONS
.TP
\fB-a\fP \fIIPaddress\fR
IP address or hostname of LDoms host machine.
.TP
\fB-h\fP 
Print out a help message describing available options, then exit.
.TP
\fB-l\fP \fIlogin\fR
Login name to LDoms host machine.
.TP
\fB-o\fP \fIaction\fR
The action required. Valid values are reboot (default), status, off or on.
.TP
\fB-p\fP \fIpassword\fR
Password for login to LDoms host machine.
.TP
\fB-B\fP \fIscript\fR
Script to run to retrieve password.
.TP
\fB-x\fP
Use secure connection over ssh (this is default, and can't be disabled) .
.TP
\fB-k\fP \fIfilename\fR
Identity file (private key) for ssh.
.TP
\fB-n\fP \fIname\fR
Name of quest to fence.
.TP
\fB-c\fP \fIprompt\fR
Force command prompt.
\fB-T\fP
Test only.  Answer NO to the confirmation prompt instead of YES.
.TP
\fB-v\fP
Verbose. Record session to stdout, or debug file if specified (see -D).
.TP
\fB-D\fP
Specifies file, where will be written debug messages from session.
.TP
\fB-V\fP
Print out a version message, then exit.

.SH STDIN PARAMETERS
.TP
\fIagent = < param >\fR
This option is used by fence_node(8) and is ignored by fence_ldom.
.TP
\fIipaddr = < hostname | ip >\fR
IP address or hostname of LDoms host machine.
.TP
\fIaction = < param >\fR
The action required. Valid values are reboot (default), status, off or on.
.TP
\fIlogin = < param >\fR
Login name to LDoms host machine.
.TP
\fIpasswd = < param >\fR
Password for login to LDoms host machine.
.TP
\fIpasswd_script = < param >\fR
Script to run to retrieve password.
.TP
\fIsecure = < param >\fR
Use secure connection over ssh (this is default, and can't be disabled) 
.TP
\fIidentity = < param >\fR
Identity file (private key) for ssh.
.TP
\fIport = < param >\fR
Name of quest to fence.
.TP
\fIcmd_prompt = < param >\fR
Force command prompt.
.TP
\fItest = < param >\fR
Test only.  Answer NO to the confirmation prompt instead of YES.
.TP
\fIverbose = < param >\fR
Verbose.  Record session to stdout, or debug file if specified (see debug).
.TP
\fIdebug = < param >\fR
Specifies file, where will be written debug messages from session.

.SH SEE ALSO
fence(8), fence_node(8)
