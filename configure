#!/bin/sh

echo "configure gnbd-kernel"
(cd gnbd-kernel; ./configure $@)

echo "configure ccs"
(cd ccs; ./configure $@)

echo "configure cman"
(cd cman; ./configure $@ --ccsincdir=`pwd`/../ccs/lib --ccslibdir=`pwd`/../ccs/lib)

# No config for group yet.
#echo "configure group"
#(cd group; ./configure $@)

echo "configure dlm"
(cd dlm; ./configure $@)

echo "configure fence"
(cd fence; ./configure $@ -ccslibdir=`pwd`/../ccs/lib --ccsincdir=`pwd`/../ccs/lib --cmanincdir=`pwd`/../cman/lib)

echo "configure gfs-kernel"
(cd gfs-kernel; ./configure $@ --dlmkincdir=`pwd`/../dlm-kernel/src2)

echo "configure gfs"
(cd gfs; ./configure $@ --gfskincdir=`pwd`/../gfs-kernel/src/gfs --iddevlibdir=`pwd`/../iddev/lib --iddevincdir=`pwd`/../iddev/lib)

echo "configure gfs2"
(cd gfs2; ./configure $@ --gfs2kincdir=`pwd`/../gfs2-kernel/src/gfs2 --iddevlibdir=`pwd`/../iddev/lib --iddevincdir=`pwd`/../iddev/lib)

echo "configure gnbd"
(cd gnbd; ./configure $@ --gnbdkincdir=`pwd`/../gnbd-kernel/src) 

echo "configure rgmanager"
(cd rgmanager; ./configure $@ --ccsincdir=`pwd`/../ccs/lib --ccslibdir=`pwd`/../ccs/lib)

echo "configure cmirror"
(cd cmirror; ./configure $@)
