2005-03-14 Lon Hohberger <lhh at redhat.com>
	* src/resources/clusterfs.sh, fs.sh: Make clusterfs actually work.
	Clean up fs.sh + clusterfs.sh "status" when mount reports none/
	devpets/usbdev/etc.

2005-03-07 Lon Hohberger <lhh at redhat.com>
	* include/resgroup.h: Add STOP_USER so we can handle user 
	STOP (instead of just DISABLE) requests.  #150333
	* src/resources/fs.sh: umount should umount mount points, not
	devices.  Handle symlinks to file system block devices.  #150481
	* src/clulib/rg_strings.c: Add user stop string.
	* src/clulib/gettid.c: errno fix from trunk
	* src/clulib/vft.c: Connect timeout extension for VF
	* src/daemons/main.c: Separate connect + login.  GuLM doesn't know
	about SGs.
	* src/daemons/rg_state.c: Change stop handling.  Add generic recover
	function.
	* src/daemons/rg_thread.c: Add support for RESTART, USER_STOP.
	#150330, #150333
	* src/utils/clusvcadm.c: Use USER_STOP to signal a user-called stop.
	#150333

2005-03-02 Lon Hohberger <lhh at redhat.com>
	* include/clulog.h: Change default log level to INFO
	* include/resgroup.h: Add proto for "best_target_node"
	* src/clulib/clulog.c: Change log facility to LOG_DAEMON to match
	other cluster daemons (e.g. lock_gulmd)
	* src/daemons/groups.c: Add best_target_node, count_resource_groups.
	Implement missing autostart-disable feature and requested exclusive
	resource group feature.  Store configuration view number so we can
	tell when the configuration changes.
	* src/daemons/main.c: Print node state transition messages before
	calling node_event().  Use do_status_checks() so we don't try to
	check services we're not running.  Bump periodic status event
	queueing to 10 seconds instead of 5.  Poll ccsd for config updates
	since we have no other way to find them.  Fix bug preventing
	status checks when clustat -i 1 is running.
	* src/daemons/rg_state.c: Fix handle_relocate_req so that it uses
	best_target_node() correctly.  Leave services which failed on all
	current nodes as 'stopped', so the next node transition will cause
	us to try to restart it automagically.  Consider recovery policy
	when taking recovery action.
	* src/daemons/rg_thread.c: Use recovery routine instead of start.
	* src/daemons/restree.c: Fix tree delta updates.
	* src/resources/resourcegroup.sh: Add 'exclusive' parameter.  Change
	'autostart' to a boolean instead of string.  Add recovery policy
	parameter.
	* src/utils/clusvcadm.c: Make "relocate to node X" work.

2005-02-28 Lon Hohberger <lhh at redhat.com>
	*  errors.txt: Remove random whitespace at the bottom.
	* include/resgroup.h: Add do_status_checks proto
	* include/rg_queue.h: Remove __ definitions so as not to conflict
	with glibc internals.
	* include/vf.h: Increase VF_COORD_TIMEOUT to something reasonable.
	* src/daemons/groups.c: Add do_status_checks().  We were previously
	queueing status checks for RGs that we didn't own.  Not useful.
	* src/daemons/main.c: Fix for #149410.
	* src/daemons/rg_state.c: Fix various failover service problems.
	* src/resources/script.sh: Remove "recover" from generic script
	wrapper.

=======================================================================

2004-09-23 Lon Hohberger <lhh at redhat.com>
	* include/reslist.h: Add needstart/needstop/common flags for
	reconfiguration.  Added RS_CONDSTART/CONDSTOP to perform "stop
	if needed/start if needed" operations after a resource [group]
	reconfiguration.  Cleaned up structures.  Added NO_CCS define for
	testing.
	* src/daemons/fo_domain.c: Added NO_CCS defines for testing.
	* src/daemons/main.c: Added reconfigure() stub function.  Added
	testing support.
	* src/daemons/reslist.c: Added comparsion + primary-attr functions
	for resources.  Add printout of needstart/stop in resource dump.
	* src/daemons/restree.c: Added resource list comparsion + 
	resource tree comparison functions.  Added condstart/stop to ops
	list.  Added CONDSTART/CONDSTOP handling in res_op.
	* src/daemons/rg_locks.c: Added NO_CCS support for testing.

2004-09-13 Lon Hohberger <lhh at redhat.com>
	* include/resgroup.h: Add a default check interval.
	* include/reslist.h: Add a recover operation, and put operations
	and checks together in each instantiated resource structure.
	* src/daemons/groups.c: Don't use the old rg_status() func --
	its internals have changed.
	* src/daemons/reslist.c: Duplicate the action structure of a 
	parent resource type into an instantiated resource.
	* src/daemons/resrules.c: Find the actions with the correct
	path.
	* src/daemons/restree.c: Add depth parameter to res_exec.  Add
	do_status - find the highest check/status level to perform given
	the elapsed time since another status operation was performed.
	Add a reference count each time a resource is started on a node.
	* src/daemons/rg_thread.c: Implement periodic status checks. 
 	Currently (in contrast to clumanager 1.2), these status checks
	are automatic and not configurable.
	* src/resources/*: Misc updates re: check intervals, new 
	parameters, etc.

2004-09-07 Lon Hohberger <lhh at redhat.com>
	* src/resources/group.sh: Add 'autostart' parameter to group 
	entity
	* src/daemons/*: Add support for OCF 'action' specifications.

2004-08-30 Lon Hohberger <lhh at redhat.com>
	* src/resources/*: Add status/monitor actions to metadata
	* include/list.h: Update to fix compiler warnings.  This is not
	complete; it's better to add a 'field' to structures requiring 
	list specs.
	* src/clulib/vft.c: Remove unnecessary pthread locks.
	* src/daemons/*: Misc. code cleanups.

2004-08-12 Lon Hohberger <lhh at redhat.com>
	* global: prepare for RPM build
